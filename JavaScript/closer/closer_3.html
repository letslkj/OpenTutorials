<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<script type="text/javascript">

    function factory_movie(title){
        //리턴값으로 객체를 리턴
        return { 
            get_title : function (){
                return title;
            },
            set_title : function(_title){
                if(typeof _title === 'String'){
                    title = _title        
                } else {
                    alert('제목은 문자열이어야 합니다.')
                }
            }
        }
    }
    ghost = factory_movie('Ghost in the shell');
    matrix = factory_movie('Matrix');
    
    alert(ghost.get_title());
    alert(matrix.get_title());
    
    ghost.set_title(1);
    
    alert(ghost.get_title());
    alert(matrix.get_title());
    //factory_movie의 지역변수 title은 2행에서 정의된 객체의 메소드에서만 접근 할 수 있는 값이다. 
    //이 말은 title의 값을 읽고 수정 할 수 있는 것은 factory_movie 메소드를 통해서 만들어진 객체 뿐이라는 의미다. 
    //JavaScript는 기본적으로 Private한 속성을 지원하지 않는데, 클로저의 이러한 특성을 이용해서 Private한 속성을 사용할 수 있게된다.
</script>    
</body>
</html>